
function parse(fishes, days) {
	const tbl = Array(9).fill(0)
	fishes.forEach((x) => { tbl[Number(x)] += 1; });
	for (let day = 0; day < days; day++) {
		tbl[(day + 7) % 9] += tbl[day % 9]
	}
	return tbl.reduce((all, curr) => all + curr, 0);
}

function check(expected, result) {
	console.log(expected == result, expected, result)
}

async function main() {
	const sample = "3,4,3,1,2".split(",");
	const puzzle = "3,3,2,1,4,1,1,2,3,1,1,2,1,2,1,1,1,1,1,1,4,1,1,5,2,1,1,2,1,1,1,3,5,1,5,5,1,1,1,1,3,1,1,3,2,1,1,1,1,1,1,4,1,1,1,1,1,1,1,4,1,3,3,1,1,3,1,3,1,2,1,3,1,1,4,1,2,4,4,5,1,1,1,1,1,1,4,1,5,1,1,5,1,1,3,3,1,3,2,5,2,4,1,4,1,2,4,5,1,1,5,1,1,1,4,1,1,5,2,1,1,5,1,1,1,5,1,1,1,1,1,3,1,5,3,2,1,1,2,2,1,2,1,1,5,1,1,4,5,1,4,3,1,1,1,1,1,1,5,1,1,1,5,2,1,1,1,5,1,1,1,4,4,2,1,1,1,1,1,1,1,3,1,1,4,4,1,4,1,1,5,3,1,1,1,5,2,2,4,2,1,1,3,1,5,5,1,1,1,4,1,5,1,1,1,4,3,3,3,1,3,1,5,1,4,2,1,1,5,1,1,1,5,5,1,1,2,1,1,1,3,1,1,1,2,3,1,2,2,3,1,3,1,1,4,1,1,2,1,1,1,1,3,5,1,1,2,1,1,1,4,1,1,1,1,1,2,4,1,1,5,3,1,1,1,2,2,2,1,5,1,3,5,3,1,1,4,1,1,4".split(
		","
	);
	check(26, parse(sample, 18));
	check(5934, parse(sample, 80));
	check(380758, parse(puzzle, 80));

	// part2
	check(26984457539, parse(sample, 256));
	check(1710623015163, parse(puzzle, 256));
}

main()
